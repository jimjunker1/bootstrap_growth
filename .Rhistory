source('C:/Users/Juliana/Desktop/Jim/Jenny Data/boot_function.R')
x = cohort_boot(df)
# script to boot strap growth rates from size-frequency histograms
library(tidyverse);theme_set(theme_bw())
x = cohort_boot(df)
x = cohort_boot(df)
View(bootsdata)
source('C:/Users/Juliana/Desktop/Jim/Jenny Data/boot_function.R')
x = cohort_boot(df)
bootsdata %>%
dcast(date~mass) -> bootsdata.wide
source('C:/Users/Juliana/Desktop/Jim/Jenny Data/boot_function.R')
x = cohort_boot(df)
View(bootsdata.wide)
bootsdata %>%
mutate(id = 1:n()) %>%
spread(date,mass) -> bootsdata.wide
View(bootsdata.wide)
bootsdata %>%
select(species, date, mass) %>%
mutate(id = 1:n()) %>%
spread(date,mass) -> bootsdata.wide
View(bootsdata.wide)
bootsdata %>%
select(species, date, mass) %>%
mutate(id = rep(1:nboot, nrow(date_df))) %>%
spread(date,mass) -> bootsdata.wide
View(bootsdata.wide)
source('C:/Users/Juliana/Desktop/Jim/Jenny Data/boot_function.R')
bootsdata %>%
select(species, date, mass) %>%
mutate(id = rep(1:nboot, nrow(date_df))) %>%
spread(date,mass) %>%
select(species, date, mass)-> bootsdata.wide
bootsdata %>%
select(species, date, mass) %>%
mutate(id = rep(1:nboot, nrow(date_df))) %>%
spread(date,mass) %>%
select(-id)-> bootsdata.wide
View(bootsdata.wide)
source('C:/Users/Juliana/Desktop/Jim/Jenny Data/boot_function.R')
df = read.csv(file = "./infrequensMeasurements.csv",T)
#load in the function
source("./boot_function.R")
x = cohort_boot(df)
# script to boot strap growth rates from size-frequency histograms
library(tidyverse);theme_set(theme_bw())
#debugonce(cohort_boot)
x = cohort_boot(df)
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/./boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/./boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/./boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
df = read.csv(file = "./infrequensMeasurements.csv",T)
#need to convert dates into POSIX format
df$Pd = as.POSIXct(df$date, format = "%d-%m-%y")
#just a quick visualization
ggplot(df, aes(x = Pd, y = mass, colour = as.factor(Site))) +
geom_point(size =2, position = "jitter")
#check levels of date
unique(levels(df$date))
x = subset(df, Site = "1" & date = "15-10-17")
x = subset(df, Site == "1" & date == "15-10-17")
hist(x$mass)
x = subset(df, Site == "1" & date == "17-09-17")
hist(x$mass)
x = subset(df, Site == "1" & date == "21-05-17")
hist(x$mass)
hist(x$bodySize)
x = subset(df, Site == "1" & date == "28-06-17")
hist(x$bodySize)
x = subset(df, Site == "1" & date == "28-06-17")
hist(x$bodySize)
x = subset(df, Site == "1" & date == "20-07-17")
hist(x$bodySize)
x = subset(df, Site == "1" & date == "19-06-17")
hist(x$bodySize)
x = subset(df, Site == "1" & date == "19-11-17")
hist(x$bodySize)
hist(x$bodySize, break = 30)
hist(x$bodySize, breaks = 30)
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
365 - abs(date_df[dim(date_df)[1],'julian'])
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
site_data %>%
group_by(date) %>%
summarize(mean_mass = mean(mass, na.rm=T), julian = unique(julian, na.rm = T)) %>%
mutate(date = reorder(date, mean_mass), day = c(diff(julian),NA)) -> date_df
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
?yday
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(site_data)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(bootsdata)
View(bootsdata.wide)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
df %>%
group_by(Pd) %>%
summarize(mean_mass = mean(mass, na.rm = T)) %>%
arrange(mean_mass) %>%
mutate(id = 1:n()) -> date_mass
df %>%
group_by(date) %>%
summarize(mean_mass = mean(mass, na.rm = T)) %>%
arrange(mean_mass) %>%
mutate(id = 1:n()) -> date_mass
View(date_mass)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
353-29
29-353
(365-353)+29
365-324
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(bootsdata.wide)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
View(bootsdata.wide)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
length(df)
seq(1,length(5), by = 2)
seq(1,length(5), by = 3)
1;seq(1,5, by = 3)
1:seq(1,5, by = 3)
1;seq(1,5, by = 1)
seq(1,5, by = 1)
seq(1,5, by = 2)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
seq(1,5, by = 2)
1;seq(1,5, by = 2)
1:seq(1,5, by = 2)
for(i in 1:seq(1,5, by = 2)){print(i+1)}
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(date_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(bootsdata.id)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
#debugonce(cohort_boot)
x = cohort_boot(df)
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(igr_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
View(igr_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
unique(levels(date_df$date))
View(date_df)
unique(levels(date_df$date))[1]
unique(levels(date_df$date))[1:n()]
unique(levels(date_df$date))[1:(nrow(date_df)-1)]
colnames(igr_df) = unique(levels(date_df$date))[1:(nrow(date_df)-1)]
View(igr_df)
igr_df = data.frame(species = as.character(i), site = j, igr_df)
View(igr_df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
igr_df %>%
gather(date, IGR, 3:(dim(igr_df)[2]), factor_key = T) -> igr_long
View(igr_long)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
x = cohort_boot(df)
x = subset(df, Site == "1" & date == "19-11-17")
hist(x$bodySize, breaks = 30)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
df = read.csv(file = "./infrequensMeasurements.csv",T)
# script to boot strap growth rates from size-frequency histograms
library(tidyverse);theme_set(theme_bw())
library(tictoc)
df = read.csv(file = "./infrequensMeasurements.csv",T)
#load in the function
source("./boot_function.R")
#debugonce(cohort_boot)
tic()
cohort_boot(df)
toc()
warnings()
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
#debugonce(cohort_boot)
suppressWarnings(cohort_boot())
#debugonce(cohort_boot)
suppressWarnings(cohort_boot(df))
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
tic()
suppressWarnings(cohort_boot(df))
toc()
x = read.csv(file = ".infreqens_site-1_IGR.csv",T)
x = read.csv(file = "~infreqens_site-1_IGR.csv",T)
x = read.csv(file = "infreqens_site-1_IGR.csv",T)
x = read.csv(file = "./infreqens_site-1_IGR.csv",T)
x = read.csv(file = "infrequens_site-1_IGR.csv",T)
View(x)
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
source('~/Projects/Random Data/bootstrap_growth/boot_function.R')
tic()
suppressWarnings(cohort_boot(df))
toc()
x = read.csv(file = "infrequens_site-1_IGR.csv",T)
View(x)
hist(x[which(site == 1),'IGR'])
hist(x[which(x$site == 1),'IGR'])
median(x[which(x$site == 1), 'IGR'])
quantile(x[which(x$site == 1), 'IGR'], c(0.025,0.975))
quantile(x[which(x$site == 1), 'IGR'], c(0.05,0.95))
x_1 = subset(site == 1 & start_date == "2017-08-18")
x_1 = subset(x,site == 1 & start_date == "2017-08-18")
median(x_1$IGR)
quantile(x_1$IGR, c(0.05,0.95))
hist(x_1$IGR)
x = subset(df, Site == "1" & date == "19-11-17")
hist(x$bodySize, breaks = 30)
# script to boot strap growth rates from size-frequency histograms
library(tidyverse);theme_set(theme_bw())
library(tictoc)
#read in file
df = read.csv(file = "./infrequensMeasurements.csv",T)
#need to convert dates into POSIX format
df$Pd = as.POSIXct(df$date, format = "%d-%m-%y")
x = subset(df, Site == "1" & date == "19-11-17")
hist(x$bodySize, breaks = 30)
View(x)
#Here is some script to run len_frequency histograms
##unfortunately have to switch the date format to a different one.
df$DATE = format(df$Pd, "%m/%d/%Y")
df$HABITAT = "COBBLE"
df$SAMPLE = "1"
df = df[,c(1,7:9,2,4)]
df = read.csv(file = "./infrequensMeasurements.csv",T)
#Here is some script to run len_frequency histograms
##unfortunately have to switch the date format to a different one.
df = read.csv(file = "./infrequensMeasurements.csv", T)
df$DATE = format(df$Pd, "%m/%d/%Y")
df$HABITAT = "COBBLE"
df$SAMPLE = "1"
df = df[,c(1,7:9,3:4)]
#Here is some script to run len_frequency histograms
##unfortunately have to switch the date format to a different one.
df = read.csv(file = "./infrequensMeasurements.csv", T)
df$Pd = as.POSIXct(df$date, format = "%d-%m-%y")
df$DATE = format(df$Pd, "%m/%d/%Y")
df$HABITAT = "COBBLE"
df$SAMPLE = "1"
df = df[,c(1,7:9,3:4)]
colnames(df) = c("SITE", "DATE", "SAMPLE","TAXON","bodysize")
colnames(df) = c("SITE", "DATE","HABITAT", "SAMPLE","TAXON","bodysize")
#widen it out
df %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
summarize(count = count(bodysize, na.rm = T)) %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
group_by(bodysize) %>%
summarize(count = count(bodysize, na.rm = T)) %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
group_by(as.character(bodysize)) %>%
summarize(count = count(bodysize, na.rm = T)) %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
group_by(as.factor(bodysize)) %>%
summarize(count = count(bodysize, na.rm = T)) %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, as.factor(bodysize)) %>%
summarize(count = count(bodysize, na.rm = T)) %>%
spread(key = as.character(bodysize)) -> df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, as.factor(bodysize)) ->df.wide
View(df.wide)
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON) ->df.wide
View(df.wide)
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) ->df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
summarize(count = length(bodysize, na.rm = T)) ->df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
summarize(count = count(bodysize, na.rm = T)) ->df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
summarize(count = sum(bodysize, na.rm = T)) ->df.wide
View(df.wide)
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
summarize(count = n(bodysize, na.rm = T)) ->df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
tally() -> df.wide
View(df.wide)
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
tally() %>%
spread(key = as.character(bodysize), value = n) -> df.wide
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
tally() %>%
spread(key = bodysize, value = n) -> df.wide
View(df.wide)
#widen it out
df %>%
group_by(SITE, DATE, HABITAT, SAMPLE, TAXON, bodysize) %>%
tally() %>%
spread(key = bodysize, value = n, fill = 0) -> df.wide
View(df.wide)
source("./len_freq_function.R")
source("./len_freq_function.R")
len_freq(df.wide)
len_freq(df.wide, FUN = median)
len_freq(df.wide, fun = median)
